{"version":3,"file":"hyperapp-axios-reducer.js","sources":["../src/index.js"],"sourcesContent":["import axios from 'axios/dist/axios';\n\nexport default(apiUrl) => {\n    return {\n        api: {\n            updateType: ({name, data}) => (state, actions) => ({[name]: data}),\n            get: (var1, config) => (state, actions) => {\n                if (typeof var1 != 'object') {\n                    const name = var1.split('/')[0];\n\n                    actions.updateType({\n                        name,\n                        data: {\n                            fetching: true\n                        }\n                    });\n\n                    axios.get(`${apiUrl}/${var1}`, config).then((response) => {\n                        actions.updateType({\n                            name,\n                            data: {\n                                ...response.data\n                            }\n                        });\n                    }).catch((error) => {\n                        actions.updateType({\n                            name,\n                            data: {\n                                error: error.toString()\n                            }\n                        });\n                    });\n                }\n            },\n            post: (var1) => (state, actions) => {\n                const {\n                        data = {},\n                        config = {}\n                    } = var1,\n                    url = (typeof var1 === 'object')\n                        ? var1.url\n                        : var1,\n                    name = url.split('/')[0];\n\n                actions.updateType({\n                    name,\n                    data: {\n                        fetching: true\n                    }\n                });\n\n                axios.post(`${apiUrl}/${url}`, data, config).then((response) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            ...response.data\n                        }\n                    });\n                }).catch((error) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            error: (error.message || error).toString()\n                        }\n                    });\n                });\n            },\n            put: (var1) => (state, actions) => {\n                const {\n                        data = {},\n                        config = {}\n                    } = var1,\n                    url = (typeof var1 === 'object')\n                        ? var1.url\n                        : var1,\n                    name = url.split('/')[0];\n\n                actions.updateType({\n                    name,\n                    data: {\n                        fetching: true\n                    }\n                });\n\n                axios.put(`${apiUrl}/${url}`, data, config).then((response) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            ...response.data\n                        }\n                    });\n                }).catch((error) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            error: (error.message || error).toString()\n                        }\n                    });\n                });\n            },\n            delete: (var1) => (state, actions) => {\n                const {\n                        config = {}\n                    } = var1,\n                    url = (typeof var1 === 'object')\n                        ? var1.url\n                        : var1,\n                    name = url.split('/')[0];\n\n                actions.updateType({\n                    name,\n                    data: {\n                        fetching: true\n                    }\n                });\n\n                axios.delete(`${apiUrl}/${url}`, config).then((response) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            ...response.data\n                        }\n                    });\n                }).catch((error) => {\n                    actions.updateType({\n                        name,\n                        data: {\n                            error: (error.message || error).toString()\n                        }\n                    });\n                });\n            }\n        }\n    }\n}\n"],"names":["apiUrl","name","data","state","actions","var1","config","split","updateType","get","then","response","catch","error","toString","url","post","message","put","delete"],"mappings":"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"}